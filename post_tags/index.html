---
layout: default
title: Tags
permalink: /tags/
---

<div class="header">
    <h1 align=middle> All Tags</h1>
</div>

<ul id="tag-list">
  {% for tag in site.tags %}
    <li class="tag-block">
      <a href="#{{ tag[0] | slugify }}" class="tag-link" data-tag="{{ tag[0] | slugify }}">
        {{ tag[0] }} ({{ tag[1].size }})
      </a>
      <ul class="tag-posts hidden" id="tag-{{ tag[0] | slugify }}">
        {% for post in tag[1] %}
          <li><a href="{{ post.url }}">{{ post.title }}</a></li>
        {% endfor %}
      </ul>
    </li>
  {% endfor %}
</ul>

<script>
  // Toggle tag posts on click
  document.querySelectorAll('.tag-link').forEach(link => {
    link.addEventListener('click', function(e) {
      e.preventDefault();
      const tag = this.dataset.tag;
      const posts = document.getElementById(`tag-${tag}`);
      posts.classList.toggle('hidden');

      // Update URL hash without scrolling
      history.replaceState(null, null, `#${tag}`);
    });
  });

  // If hash is present on page load, open the relevant tag
  window.addEventListener('DOMContentLoaded', () => {
    const hash = window.location.hash.substring(1);
    if (hash) {
      const posts = document.getElementById(`tag-${hash}`);
      if (posts) {
        posts.classList.remove('hidden');
        // Optional: scroll into view
        document.querySelector(`[data-tag="${hash}"]`)?.scrollIntoView({ behavior: 'smooth' });
      }
    }
  });
</script>
