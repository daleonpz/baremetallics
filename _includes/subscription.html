<form id="mailchimp-form" action="https://baremetallics.us20.list-manage.com/subscribe/post" method="POST" onsubmit="return validateConsent();">
  <input type="hidden" name="u" value="45b440ac1dbfe13c8cd7fbe7f">
  <input type="hidden" name="id" value="0ef40b6f35">

  <!-- Honeypot fields -->
  <div class="field-shift" aria-hidden="true">
    <input type="text" name="b_name" tabindex="-1" id="b_name" placeholder="Name">
    <input type="email" name="b_email" tabindex="-1" id="b_email" placeholder="Email">
    <textarea name="b_comment" tabindex="-1" placeholder="Comment"></textarea>
  </div>

  <!-- Email Input -->
  <div class="form-group">
    <input type="email" name="MERGE0" id="MERGE0" placeholder="you@example.com" required>
  </div>

  <!-- GDPR Consent (simplified) -->
  <div class="form-group checkbox-group">
    <label>
      <input type="checkbox" id="gdpr-consent" name="gdpr[66636]" value="Y" required>
      I agree to receive emails and accept the <a href="/datenschutz" target="_blank">privacy policy</a>
    </label>
    <div id="consent-error" class="error" style="display:none;">You must agree to subscribe.</div>
  </div>

  <!-- Mailchimp Notice (brief) -->
  <p class="legal-small">
    We use Mailchimp to send emails. By subscribing, you acknowledge your info will be transferred to Mailchimp for processing. <a href="https://mailchimp.com/legal/terms" target="_blank">Learn more</a>.
  </p>

  <!-- Submit -->
  <div class="form-actions">
    <input type="submit" value="Subscribe">
  </div>

  <!-- Hidden -->
  <input type="hidden" name="ht" value="3dc7a4a7e95ec50228747c00f6d67c44353c0211:MTc1MjI1MDY2Ni4yNDcy">
  <input type="hidden" name="mc_signupsource" value="hosted">
</form>

<script>
function validateConsent() {
  const checkbox = document.getElementById('gdprConsent');
  const error = document.getElementById('consent-error');
  if (!checkbox.checked) {
    error.style.display = 'block';
    return false;
  } else {
    error.style.display = 'none';
    return true;
  }
}
</script>
